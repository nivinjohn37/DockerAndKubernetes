# Data Categories in Docker

---

### Read-Only Data

Read-only data is stored in Docker images. This data is immutable and cannot be changed once the image is built.

- **Example**:
    - Configuration files or application binaries included in the Docker image.
    - **Dockerfile**:
        
        ```
        FROM ubuntu:20.04
        COPY config.yaml /app/config.yaml
        
        ```
        

### Read + Write Data (Temporary)

Temporary read-write data is stored in the container’s writable layer. This data is dynamic and can change but is cleared regularly.

- **Stored in Memory or Temp Files**:
    - Data such as session information or temporary files that are needed during the container's runtime but do not need to persist after the container stops.
- **Dynamic and Changeable**:
    - These files can be modified or deleted during the container’s lifecycle.
- **Container Layer for Read-Write**:
    - The container's writable layer mirrors the filesystem of the image, allowing read-write access to the files.
    - **Example**:
        - A web application generating session data stored temporarily within the container.

### Permanent Application Data

Permanent data needs to persist beyond the lifecycle of a container. This includes data like user accounts or database records.

- **User Accounts Example**:
    - User account information generated and maintained by the application running inside the container.
    - **Fetched/Produced in the Running Container**:
        - Data generated or modified by the application during runtime.
- **Stored in Files or a Database**:
    - Persistent data should be stored in a way that ensures it is not lost if the container stops or restarts.
    - **Example**:
        - A MySQL database storing user account information.
- **Container Layer for Read-Write with Volumes**:
    - Using volumes ensures data persists beyond the container’s lifecycle.
    - **Example**:
        
        ```
        docker run -v my-volume:/var/lib/mysql mysql
        
        ```
        

---

### Types of External Data Storage

### Volumes

Volumes are the preferred mechanism for persisting data generated by and used by Docker containers.

- **Anonymous Volumes**:
    - Volumes that Docker manages, but without a specific name.
    - **Example**:
        
        ```
        docker run -v /var/lib/mysql mysql
        
        ```
        
- **Named Volumes**:
    - Volumes that are explicitly named, making them easier to manage and reference.
    - **Example**:
        
        ```
        docker volume create my-volume
        docker run -v my-volume:/var/lib/mysql mysql
        
        ```
        
- **Docker Setup**:
    - Docker sets up a folder/path on the host machine, but the exact location is often abstracted away from the user.
    - **Docker Volume Command**:
        - Used to create, inspect, and manage volumes.
        - **Example**:
            
            ```
            docker volume ls
            docker volume inspect my-volume
            
            ```
            

### Bind Mounts

Bind mounts provide a way to mount a host directory or file into a container.

- **Snapshot Copied at Image Creation**:
    - A snapshot of the host directory is taken when the image is created, allowing the container to access its contents.
- **Dynamic Changes**:
    - Any changes to the mounted directory on the host are reflected inside the container.
- **Restarting is Cumbersome**:
    - Bind mounts require careful management during container restarts to ensure consistency.
- **Bind Mounts Define an Internal Path**:
    - You specify the host directory and the internal container path where it should be mounted.
    - **Example**:
        
        ```
        docker run -v /path/on/host:/path/in/container my-image
        
        ```
        
- **Perfect for Persistent and Editable Data**:
    - Ideal for development environments where you need the source code or data to be editable and persistent.
    - **Example**:
        - Developing a web application with source code on the host machine:
            
            ```
            docker run -v /path/to/source:/app/source my-image
            
            ```
            

By understanding these data categories and storage mechanisms, you can effectively manage data in Docker, ensuring persistence, performance, and ease of development.

![DockerData5](./Images/DockerData5.png)